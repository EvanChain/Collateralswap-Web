(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3802],{8498:(e,t,n)=>{"use strict";n.d(t,{Wu:()=>l,ZB:()=>o,Zp:()=>s,aR:()=>d});var a=n(67209),r=n(26877),i=n(88671);let s=r.forwardRef((e,t)=>{let{className:n,...r}=e;return(0,a.jsx)("div",{ref:t,className:(0,i.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",n),...r})});s.displayName="Card";let d=r.forwardRef((e,t)=>{let{className:n,...r}=e;return(0,a.jsx)("div",{ref:t,className:(0,i.cn)("flex flex-col space-y-1.5 p-6",n),...r})});d.displayName="CardHeader";let o=r.forwardRef((e,t)=>{let{className:n,...r}=e;return(0,a.jsx)("div",{ref:t,className:(0,i.cn)("text-2xl font-semibold leading-none tracking-tight",n),...r})});o.displayName="CardTitle",r.forwardRef((e,t)=>{let{className:n,...r}=e;return(0,a.jsx)("div",{ref:t,className:(0,i.cn)("text-sm text-muted-foreground",n),...r})}).displayName="CardDescription";let l=r.forwardRef((e,t)=>{let{className:n,...r}=e;return(0,a.jsx)("div",{ref:t,className:(0,i.cn)("p-6 pt-0",n),...r})});l.displayName="CardContent",r.forwardRef((e,t)=>{let{className:n,...r}=e;return(0,a.jsx)("div",{ref:t,className:(0,i.cn)("flex items-center p-6 pt-0",n),...r})}).displayName="CardFooter"},11658:(e,t,n)=>{"use strict";n.d(t,{J:()=>l});var a=n(67209),r=n(26877),i=n(51150),s=n(18396),d=n(88671);let o=(0,s.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),l=r.forwardRef((e,t)=>{let{className:n,...r}=e;return(0,a.jsx)(i.b,{ref:t,className:(0,d.cn)(o(),n),...r})});l.displayName=i.b.displayName},19398:(e,t,n)=>{"use strict";n.d(t,{Bk:()=>o,D2:()=>d,Fq:()=>s,TS:()=>l,i3:()=>a,vQ:()=>i,wi:()=>r});let a={BASE_URL:"http://localhost:5000",ENDPOINTS:{ORDER_CREATE:"/api/orders/create",ORDER_LIST:"/api/orders/list",ORDER_FILL:"/api/orders/fill",ORDER_SYNC:"/api/orders/sync",ORDER_SYNC_STATUS:"/api/orders/sync/status"}},r={PIV_ADDRESS:"0x1234567890123456789012345678901234567890",ROUTER_ADDRESS:"0x2345678901234567890123456789012345678901",TOKENS:{USDC:"0xA0b86a33E6441A3063BdFb663c6C8FAc6C8A4Ec2",USDT:"0xA0b86a33E6441A3063BdFb663c6C8FAc6C8A4Ec2",WBTC:"0xA0b86a33E6441A3063BdFb663c6C8FAc6C8A4Ec2",LINK:"0xC02aaA39b223FE8D0A0e5C4F27eAD9083C756Cc2",AAVE:"0xC02aaA39b223FE8D0A0e5C4F27eAD9083C756Cc2",EURS:"0xC02aaA39b223FE8D0A0e5C4F27eAD9083C756Cc2"},CHAIN_ID:"11155111",NETWORK_NAME:"sepolia",RPC_URL:"https://sepolia.infura.io/v3/YOUR_INFURA_PROJECT_ID",SEPOLIA_RPC_URL:"https://api.zan.top/node/v1/eth/sepolia/e6bd8c0b823d40bc88306c09ee218515",AAVE_POOL_ADDRESSES_PROVIDER:"0x012bAC54348C0E635dCAc9D5FB99f06F24136C9A",AAVE_UI_POOL_DATA_PROVIDER:"0x69529987FA4A075D0C00B0128fa848dc9ebbE9CE",AAVE_UI_INCENTIVE_DATA_PROVIDER:"0x162A7AC02f547ad796CA549f757e2b8d174C5108"},i={NAME:"CollateralSwap",VERSION:"1.0.0",DESCRIPTION:"Decentralized Collateral Swap Platform",DEFAULT_SLIPPAGE:.05,MAX_SLIPPAGE:.5,MIN_SLIPPAGE:.001,DECIMAL_PLACES:6,MAX_DECIMAL_PLACES:18,DEFAULT_PAGE_SIZE:20,MAX_ORDERS_PER_PAGE:100,ORDER_REFRESH_INTERVAL:3e4,PRICE_REFRESH_INTERVAL:1e4,SYNC_STATUS_REFRESH_INTERVAL:6e4},s={SUPPORTED_TOKENS:[{symbol:"USDC",name:"USD Coin",address:r.TOKENS.USDC,decimals:6},{symbol:"USDT",name:"Tether USD",address:r.TOKENS.USDT,decimals:6},{symbol:"WBTC",name:"Wrapped Bitcoin",address:r.TOKENS.WBTC,decimals:8},{symbol:"LINK",name:"Chainlink",address:r.TOKENS.LINK,decimals:18},{symbol:"AAVE",name:"Aave",address:r.TOKENS.AAVE,decimals:18},{symbol:"EURS",name:"STASIS EURS",address:r.TOKENS.EURS,decimals:2}],DEFAULT_TOKEN_IN:"USDC",DEFAULT_TOKEN_OUT:"WBTC"},d={IROUTER:[{inputs:[{internalType:"address",name:"aavePool",type:"address"},{internalType:"address",name:"aaveAddressProvider",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[{internalType:"address",name:"token",type:"address"}],name:"SafeERC20FailedOperation",type:"error"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"owner",type:"address"},{indexed:!1,internalType:"address",name:"pivAddress",type:"address"}],name:"PIVDeployed",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"tokenIn",type:"address"},{indexed:!0,internalType:"address",name:"tokenOut",type:"address"},{indexed:!1,internalType:"address",name:"caller",type:"address"},{indexed:!1,internalType:"uint256",name:"amountIn",type:"uint256"},{indexed:!1,internalType:"uint256",name:"finalAmountOut",type:"uint256"}],name:"SwapExecuted",type:"event"},{inputs:[],name:"ADDRESSES_PROVIDER",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"POOL",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"deployPIV",outputs:[{internalType:"address",name:"pivAddress",type:"address"}],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"address",name:"tokenIn",type:"address"},{internalType:"address",name:"tokenOut",type:"address"},{internalType:"uint256",name:"amountIn",type:"uint256"},{internalType:"uint256",name:"minAmountOut",type:"uint256"},{components:[{internalType:"address",name:"pivAddress",type:"address"},{internalType:"uint256[]",name:"orderIds",type:"uint256[]"}],internalType:"struct IRouter.OrderData[]",name:"orderDatas",type:"tuple[]"}],internalType:"struct IRouter.SwapData",name:"swapData",type:"tuple"}],name:"swap",outputs:[{internalType:"uint256",name:"netAmountOut",type:"uint256"},{internalType:"uint256",name:"totalInputAmount",type:"uint256"}],stateMutability:"nonpayable",type:"function"}],IPIV:[{inputs:[{internalType:"address",name:"aavePool",type:"address"},{internalType:"address",name:"aaveAddressProvider",type:"address"},{internalType:"address",name:"admin",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"OwnableInvalidOwner",type:"error"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"OwnableUnauthorizedAccount",type:"error"},{inputs:[{internalType:"address",name:"token",type:"address"}],name:"SafeERC20FailedOperation",type:"error"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"user",type:"address"},{indexed:!0,internalType:"address",name:"collateralToken",type:"address"},{indexed:!0,internalType:"address",name:"debtToken",type:"address"},{indexed:!1,internalType:"uint256",name:"collateralAmount",type:"uint256"},{indexed:!1,internalType:"uint256",name:"newDebtAmount",type:"uint256"},{indexed:!1,internalType:"uint256",name:"interestRateMode",type:"uint256"}],name:"LoanMigrated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"orderId",type:"uint256"}],name:"OrderCancelled",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"uint256",name:"orderId",type:"uint256"},{indexed:!1,internalType:"address",name:"collateralToken",type:"address"},{indexed:!1,internalType:"address",name:"debtToken",type:"address"},{indexed:!1,internalType:"uint256",name:"collateralAmount",type:"uint256"},{indexed:!1,internalType:"uint256",name:"price",type:"uint256"},{indexed:!1,internalType:"uint256",name:"interestRateMode",type:"uint256"}],name:"OrderPlaced",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"orderId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"tradingAmount",type:"uint256"}],name:"OrderTraded",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"orderId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"price",type:"uint256"}],name:"OrderUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{inputs:[],name:"ADDRESSES_PROVIDER",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"POOL",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"asset",type:"address"}],name:"atokenAddress",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"orderId",type:"uint256"}],name:"cancelOrder",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"collateralOnSold",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"asset",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"premium",type:"uint256"},{internalType:"address",name:"",type:"address"},{internalType:"bytes",name:"params",type:"bytes"}],name:"executeOperation",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"}],name:"getBalance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"contract IERC20",name:"collateralToken",type:"address"},{internalType:"uint256",name:"collateralAmount",type:"uint256"},{internalType:"contract IERC20",name:"debtToken",type:"address"},{internalType:"uint256",name:"debtAmount",type:"uint256"},{internalType:"uint256",name:"interestRateMode",type:"uint256"}],name:"migrateFromAave",outputs:[{internalType:"uint256",name:"newDebtAmount",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"orderMapping",outputs:[{internalType:"address",name:"collateralToken",type:"address"},{internalType:"address",name:"debtToken",type:"address"},{internalType:"uint256",name:"collateralAmount",type:"uint256"},{internalType:"uint256",name:"remainingCollateral",type:"uint256"},{internalType:"uint256",name:"price",type:"uint256"},{internalType:"uint256",name:"interestRateMode",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"collateralToken",type:"address"},{internalType:"uint256",name:"collateralAmount",type:"uint256"},{internalType:"address",name:"debtToken",type:"address"},{internalType:"uint256",name:"price",type:"uint256"},{internalType:"uint256",name:"interestRateMode",type:"uint256"}],name:"placeOrder",outputs:[{internalType:"uint256",name:"orderId",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256[]",name:"orderIds",type:"uint256[]"},{internalType:"uint256",name:"tradingAmount",type:"uint256"}],name:"previewSwap",outputs:[{internalType:"uint256",name:"collateralOutput",type:"uint256"},{internalType:"uint256",name:"debtInput",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256[]",name:"orderIds",type:"uint256[]"},{internalType:"uint256",name:"tradingAmount",type:"uint256"},{internalType:"address",name:"recipient",type:"address"}],name:"swap",outputs:[{internalType:"uint256",name:"totalCollateralOutput",type:"uint256"},{internalType:"uint256",name:"totalDebtInput",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"totalOrders",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"orderId",type:"uint256"},{internalType:"uint256",name:"price",type:"uint256"}],name:"updateOrder",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"address",name:"recipient",type:"address"}],name:"withdrawAssets",outputs:[],stateMutability:"nonpayable",type:"function"}]},o=e=>s.SUPPORTED_TOKENS.find(t=>t.symbol===e),l=e=>"".concat(a.BASE_URL).concat(e)},35020:(e,t,n)=>{"use strict";n.d(t,{p:()=>s});var a=n(67209),r=n(26877),i=n(88671);let s=r.forwardRef((e,t)=>{let{className:n,type:r,...s}=e;return(0,a.jsx)("input",{type:r,className:(0,i.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",n),ref:t,...s})});s.displayName="Input"},36364:(e,t,n)=>{"use strict";n.d(t,{G1:()=>i,XG:()=>r,iP:()=>a,yk:()=>u});let a={GLOBAL_MOCK_MODE:!0,USE_MOCK_AAVE:!0,USE_MOCK_API:!0,USE_MOCK_CONTRACTS:!0,ENABLE_MOCK_LOGS:!0,MOCK_DELAY_MS:800},r=(e,t,n)=>{a.ENABLE_MOCK_LOGS&&console.log("\uD83D\uDD27 [MOCK ".concat(e,"] ").concat(t),n||"")},i=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a.MOCK_DELAY_MS;return new Promise(t=>setTimeout(t,e))},s=e=>(r("AAVE","Creating mock positions",{userAddress:e}),[{id:"".concat(e,"-eth-collateral"),type:"collateral",token:"ETH",amount:"2000000000000000000",formattedAmount:"2.0000",tokenAddress:"0xC02aaA39b223FE8D0A0e5C4F27eAD9083C756Cc2"},{id:"".concat(e,"-usdc-collateral"),type:"collateral",token:"USDC",amount:"5000000000",formattedAmount:"5000.0000",tokenAddress:"0xA0b86a33E6441A3063BdFb663c6C8FAc6C8A4Ec2"},{id:"".concat(e,"-dai-debt"),type:"debt",token:"DAI",amount:"3000000000000000000000",formattedAmount:"3000.0000",tokenAddress:"0x6B175474E89094C44Da98b954EedeAC495271d0F"},{id:"".concat(e,"-usdt-debt"),type:"debt",token:"USDT",amount:"1500000000",formattedAmount:"1500.0000",tokenAddress:"0xdAC17F958D2ee523a2206206994597C13D831ec7"}]),d=()=>(r("PIV","Creating mock PIV positions"),[{id:"piv-wbtc-collateral-1",type:"collateral",token:"WBTC",amount:"50000000",formattedAmount:"0.5000",tokenAddress:"0x2260FAC5E5542a773Aa44fBCfeDf7C193bc2C599"},{id:"piv-link-debt-1",type:"debt",token:"LINK",amount:"500000000000000000000",formattedAmount:"500.0000",tokenAddress:"0x514910771AF9Ca656af840dff83E8264EcF986CA"}]),o=e=>{r("API","Creating mock orders",{userAddress:e});let t=[{_id:"mock-order-1",orderId:"ORDER_001",owner:"0x1234567890123456789012345678901234567890",collateralToken:"ETH",debtToken:"USDC",collateralAmount:"1.5",price:"3000",status:"OPEN",filledAmount:"0",interestRateMode:"variable",isFromBlockchain:!1,createdAt:new Date(Date.now()-72e5).toISOString(),updatedAt:new Date(Date.now()-72e5).toISOString()},{_id:"mock-order-2",orderId:"ORDER_002",owner:"0x2345678901234567890123456789012345678901",collateralToken:"WBTC",debtToken:"DAI",collateralAmount:"0.1",price:"45000",status:"OPEN",filledAmount:"0",interestRateMode:"stable",isFromBlockchain:!0,createdAt:new Date(Date.now()-36e5).toISOString(),updatedAt:new Date(Date.now()-36e5).toISOString()},{_id:"mock-order-3",orderId:"ORDER_003",owner:"0x3456789012345678901234567890123456789012",collateralToken:"USDC",debtToken:"ETH",collateralAmount:"10000",price:"0.00033",status:"FILLED",filledAmount:"10000",interestRateMode:"variable",isFromBlockchain:!1,createdAt:new Date(Date.now()-18e5).toISOString(),updatedAt:new Date(Date.now()-9e5).toISOString()},{_id:"mock-order-4",orderId:"ORDER_004",owner:"0x4567890123456789012345678901234567890123",collateralToken:"LINK",debtToken:"USDT",collateralAmount:"1000",price:"15",status:"OPEN",filledAmount:"250",interestRateMode:"variable",isFromBlockchain:!0,createdAt:new Date(Date.now()-27e5).toISOString(),updatedAt:new Date(Date.now()-6e5).toISOString()}];if(e){let n=[{_id:"user-order-1",orderId:"USER_ORDER_001",owner:e,collateralToken:"ETH",debtToken:"USDC",collateralAmount:"2.0",price:"3100",status:"OPEN",filledAmount:"0",interestRateMode:"variable",isFromBlockchain:!1,createdAt:new Date(Date.now()-36e5).toISOString(),updatedAt:new Date(Date.now()-36e5).toISOString()},{_id:"user-order-2",orderId:"USER_ORDER_002",owner:e,collateralToken:"WBTC",debtToken:"USDC",collateralAmount:"0.05",price:"44000",status:"OPEN",filledAmount:"0",interestRateMode:"stable",isFromBlockchain:!1,createdAt:new Date(Date.now()-18e5).toISOString(),updatedAt:new Date(Date.now()-18e5).toISOString()}];t.unshift(...n)}return t};class l{initializeOrders(e){e&&this.currentUserAddress!==e&&(this.currentUserAddress=e,this.orders=o(e),r("STORE","Initialized orders for user ".concat(e),this.orders))}getAavePositions(e){return this.aavePositions.has(e)||this.aavePositions.set(e,s(e)),this.aavePositions.get(e)||[]}removeAavePosition(e,t){let n=this.getAavePositions(e).filter(e=>e.id!==t);this.aavePositions.set(e,n),this.migratedPositions.add(t),r("STORE","Removed Aave position ".concat(t," for ").concat(e))}getPivPositions(){return[...this.pivPositions]}addPivPosition(e){this.pivPositions.push(e),r("STORE","Added PIV position",e)}getOrders(e){return this.initializeOrders(e),[...this.orders]}addOrder(e){this.orders.unshift(e),r("STORE","Added new order",e)}updateOrderStatus(e,t,n){let a=this.orders.find(t=>t._id===e||t.orderId===e);a&&(a.status=t,void 0!==n&&(a.filledAmount=n),a.updatedAt=new Date().toISOString(),r("STORE","Updated order ".concat(e," status to ").concat(t)))}simulateMigration(e,t){let n;r("STORE","Simulating migration",{userAddress:e,aavePosition:t});let a={_id:"migrated-".concat(Date.now()),orderId:"MIGRATE_".concat(Date.now()),owner:e,collateralToken:"collateral"===t.type?t.token:"ETH",debtToken:"debt"===t.type?t.token:"USDC",collateralAmount:"collateral"===t.type?t.formattedAmount:"0",price:this.calculateMockPrice(t.token),status:"OPEN",filledAmount:"0",interestRateMode:"variable",isFromBlockchain:!1,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};return this.addOrder(a),this.removeAavePosition(e,t.id),"collateral"===t.type&&(n={id:"piv-".concat(t.token.toLowerCase(),"-").concat(Date.now()),type:"collateral",token:t.token,amount:t.amount,formattedAmount:t.formattedAmount,tokenAddress:t.tokenAddress,orderId:a._id},this.addPivPosition(n)),{order:a,pivPosition:n}}simulateNewMigration(e){r("STORE","Simulating new migration",e);try{if("aaveToVault"===e.migrationType){let t={id:"piv-migrated-".concat(Date.now()),type:"collateral",token:e.collateralToken,amount:this.parseAmount(e.collateralAmount,e.collateralToken),formattedAmount:e.collateralAmount,tokenAddress:this.getTokenAddress(e.collateralToken)};return this.addPivPosition(t),this.removeAavePosition(e.userAddress,e.aavePosition.id),{success:!0,pivPosition:t}}if("placeOrder"===e.migrationType){let t={_id:"order-".concat(Date.now()),orderId:"ORDER_".concat(Date.now()),owner:e.userAddress,collateralToken:e.collateralToken,debtToken:e.debtToken,collateralAmount:e.collateralAmount,price:e.price||this.calculateMockPrice(e.collateralToken),status:"OPEN",filledAmount:"0",interestRateMode:e.interestRateMode,isFromBlockchain:!1,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};return this.addOrder(t),{success:!0,order:{orderId:t.orderId,_id:t._id}}}return{success:!1,error:"Invalid migration type"}}catch(e){return{success:!1,error:e instanceof Error?e.message:"Unknown error"}}}parseAmount(e,t){let n=this.getTokenDecimals(t);return(parseFloat(e)*Math.pow(10,n)).toString()}getTokenDecimals(e){return({ETH:18,WBTC:8,USDC:6,USDT:6,DAI:18,LINK:18,AAVE:18})[e]||18}getTokenAddress(e){return({ETH:"0xC02aaA39b223FE8D0A0e5C4F27eAD9083C756Cc2",WBTC:"0x2260FAC5E5542a773Aa44fBCfeDf7C193bc2C599",USDC:"0xA0b86a33E6441A3063BdFb663c6C8FAc6C8A4Ec2",USDT:"0xdAC17F958D2ee523a2206206994597C13D831ec7",DAI:"0x6B175474E89094C44Da98b954EedeAC495271d0F",LINK:"0x514910771AF9Ca656af840dff83E8264EcF986CA",AAVE:"0x7Fc66500c84A76Ad7e9c93437bFc5Ac33E2DDaE9"})[e]||"0x0000000000000000000000000000000000000000"}updateOrderPrice(e,t){let n=this.orders.find(t=>t._id===e);return!!n&&(n.price=t,n.updatedAt=new Date().toISOString(),r("STORE","Updated order ".concat(e," price to ").concat(t)),!0)}cancelOrder(e){let t=this.orders.findIndex(t=>t._id===e);return -1!==t&&(this.orders.splice(t,1),r("STORE","Cancelled order ".concat(e)),!0)}calculateMockPrice(e){return({ETH:"3000",WBTC:"45000",USDC:"1",USDT:"1",DAI:"1",LINK:"15",AAVE:"100"})[e]||"1"}reset(){this.aavePositions.clear(),this.pivPositions=d(),this.orders=[],this.migratedPositions.clear(),this.currentUserAddress=null,r("STORE","Reset all mock data")}constructor(){this.aavePositions=new Map,this.pivPositions=d(),this.orders=[],this.migratedPositions=new Set,this.currentUserAddress=null}}let u=new l;s("0x1234567890123456789012345678901234567890"),o(),d()},63514:()=>{},68376:(e,t,n)=>{"use strict";n.d(t,{bq:()=>c,eb:()=>f,gC:()=>A,l6:()=>u,yv:()=>p});var a=n(67209),r=n(26877),i=n(2316),s=n(53648),d=n(74569),o=n(65226),l=n(88671);let u=i.bL;i.YJ;let p=i.WT,c=r.forwardRef((e,t)=>{let{className:n,children:r,...d}=e;return(0,a.jsxs)(i.l9,{ref:t,className:(0,l.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",n),...d,children:[r,(0,a.jsx)(i.In,{asChild:!0,children:(0,a.jsx)(s.A,{className:"h-4 w-4 opacity-50"})})]})});c.displayName=i.l9.displayName;let m=r.forwardRef((e,t)=>{let{className:n,...r}=e;return(0,a.jsx)(i.PP,{ref:t,className:(0,l.cn)("flex cursor-default items-center justify-center py-1",n),...r,children:(0,a.jsx)(d.A,{className:"h-4 w-4"})})});m.displayName=i.PP.displayName;let y=r.forwardRef((e,t)=>{let{className:n,...r}=e;return(0,a.jsx)(i.wn,{ref:t,className:(0,l.cn)("flex cursor-default items-center justify-center py-1",n),...r,children:(0,a.jsx)(s.A,{className:"h-4 w-4"})})});y.displayName=i.wn.displayName;let A=r.forwardRef((e,t)=>{let{className:n,children:r,position:s="popper",...d}=e;return(0,a.jsx)(i.ZL,{children:(0,a.jsxs)(i.UC,{ref:t,className:(0,l.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===s&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",n),position:s,...d,children:[(0,a.jsx)(m,{}),(0,a.jsx)(i.LM,{className:(0,l.cn)("p-1","popper"===s&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:r}),(0,a.jsx)(y,{})]})})});A.displayName=i.UC.displayName,r.forwardRef((e,t)=>{let{className:n,...r}=e;return(0,a.jsx)(i.JU,{ref:t,className:(0,l.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",n),...r})}).displayName=i.JU.displayName;let f=r.forwardRef((e,t)=>{let{className:n,children:r,...s}=e;return(0,a.jsxs)(i.q7,{ref:t,className:(0,l.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",n),...s,children:[(0,a.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,a.jsx)(i.VF,{children:(0,a.jsx)(o.A,{className:"h-4 w-4"})})}),(0,a.jsx)(i.p4,{children:r})]})});f.displayName=i.q7.displayName,r.forwardRef((e,t)=>{let{className:n,...r}=e;return(0,a.jsx)(i.wv,{ref:t,className:(0,l.cn)("-mx-1 my-1 h-px bg-muted",n),...r})}).displayName=i.wv.displayName},73022:(e,t,n)=>{"use strict";n.d(t,{N:()=>d});var a=n(19398),r=n(36364);class i extends Error{constructor(e,t,n){super(e),this.status=t,this.data=n,this.name="ApiError"}}async function s(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(r.iP.GLOBAL_MOCK_MODE||r.iP.USE_MOCK_API)return(0,r.XG)("API","Mock API request: ".concat(e),t),await (0,r.G1)(),function(e,t){let n=t.method||"GET";if((0,r.XG)("API","Handling mock request: ".concat(n," ").concat(e),t),(e.includes("/orders/list")||e.includes("/orders"))&&"GET"===n)return r.yk.getOrders();if(e.includes("/orders/create")&&"POST"===n){let e=t.body?JSON.parse(t.body):{},n={_id:"mock-".concat(Date.now()),orderId:"ORDER_".concat(Date.now()),...e,status:"OPEN",filledAmount:"0",isFromBlockchain:!1,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};return r.yk.addOrder(n),n}if(e.includes("/orders/fill")&&"POST"===n){let e=t.body?JSON.parse(t.body):{};return{totalIn:e.amountIn||"1000",totalOut:e.minAmountOut||"900",matchDetails:[{orderId:"mock-order-1",fillIn:e.amountIn||"1000",fillOut:e.minAmountOut||"900",price:"0.9"}],swapNetAmountOut:e.minAmountOut||"900",swapTotalInputAmount:e.amountIn||"1000"}}return e.includes("/orders/sync/status")&&"GET"===n?{isRunning:!1,pivAddress:"0x1234567890123456789012345678901234567890",contractInitialized:!0}:e.includes("/orders/sync")&&"POST"===n?{message:"Sync started successfully"}:((0,r.XG)("API","Unhandled mock endpoint: ".concat(n," ").concat(e)),{})}(e,t);let n=(0,a.TS)(e),s={headers:{"Content-Type":"application/json",...t.headers},...t};try{let e=await fetch(n,s);if(!e.ok){let t=await e.json().catch(()=>({}));throw new i(t.message||"HTTP ".concat(e.status,": ").concat(e.statusText),e.status,t)}return await e.json()}catch(e){if(e instanceof i)throw e;throw new i(e instanceof Error?e.message:"Network error",0)}}let d={getOrders:async e=>r.iP.GLOBAL_MOCK_MODE||r.iP.USE_MOCK_API?(await (0,r.G1)(),r.yk.getOrders(e)):s(a.i3.ENDPOINTS.ORDER_LIST),createOrder:async e=>s(a.i3.ENDPOINTS.ORDER_CREATE,{method:"POST",body:JSON.stringify(e)}),fillOrder:async e=>s(a.i3.ENDPOINTS.ORDER_FILL,{method:"POST",body:JSON.stringify(e)}),syncOrders:async()=>s(a.i3.ENDPOINTS.ORDER_SYNC,{method:"POST"}),getSyncStatus:async()=>s(a.i3.ENDPOINTS.ORDER_SYNC_STATUS),async updateOrder(e,t){if(r.iP.GLOBAL_MOCK_MODE||r.iP.USE_MOCK_API){if(await (0,r.G1)(),r.yk.updateOrderPrice(e,t.price)){let t=r.yk.getOrders().find(t=>t._id===e);if(t)return t}throw Error("Order not found or update failed")}return s("/orders/".concat(e),{method:"PUT",body:JSON.stringify(t)})},async cancelOrder(e){if(r.iP.GLOBAL_MOCK_MODE||r.iP.USE_MOCK_API){if(await (0,r.G1)(),r.yk.cancelOrder(e))return{message:"Order cancelled successfully"};throw Error("Order not found or cancellation failed")}return s("/orders/".concat(e),{method:"DELETE"})}}},78656:(e,t,n)=>{"use strict";n.d(t,{$:()=>l});var a=n(67209),r=n(26877),i=n(22531),s=n(18396),d=n(88671);let o=(0,s.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),l=r.forwardRef((e,t)=>{let{className:n,variant:r,size:s,asChild:l=!1,...u}=e,p=l?i.DX:"button";return(0,a.jsx)(p,{className:(0,d.cn)(o({variant:r,size:s,className:n})),ref:t,...u})});l.displayName="Button"},88671:(e,t,n)=>{"use strict";n.d(t,{cn:()=>i});var a=n(19082),r=n(82336);function i(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,r.QP)((0,a.$)(t))}}}]);